<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Leska Map - Home Budget (Leska)</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <script>
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'base',
            flowchart: {
                curve: 'linear',
                padding: 10
            },
            securityLevel: 'loose'
        });
    </script>
    <style>
        * { 
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f8fafc;
            color: #334155;
            line-height: 1.4;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        header {
            margin-bottom: 20px;
        }
        
        h1 {
            color: #1e293b;
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 6px;
        }
        
        .goal {
            color: #64748b;
            font-size: 14px;
        }
        
        .mermaid-container {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0 30px 0;
            border: 1px solid #e2e8f0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            overflow-x: auto;
        }
        
        .mermaid {
            min-width: 900px;
        }
        
        /* Single row of 6 columns */
        .stages-row {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 12px;
            margin-top: 10px;
        }
        
        .stage-column {
            background: white;
            border-radius: 6px;
            border: 1px solid #e2e8f0;
            overflow: hidden;
            transition: all 0.2s;
            min-height: 200px;
            display: flex;
            flex-direction: column;
        }
        
        .stage-column.active {
            border-color: #3b82f6;
            box-shadow: 0 2px 8px rgba(59, 130, 246, 0.15);
        }
        
        .stage-column.done {
            border-color: #10b981;
        }
        
        .stage-header {
            padding: 10px;
            background: #f8fafc;
            border-bottom: 1px solid #e2e8f0;
        }
        
        .stage-number {
            font-size: 11px;
            font-weight: 600;
            color: #64748b;
            margin-bottom: 4px;
        }
        
        .stage-name {
            font-size: 12px;
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 6px;
            line-height: 1.2;
        }
        
        .stage-status {
            display: inline-block;
            font-size: 10px;
            font-weight: 600;
            padding: 2px 8px;
            border-radius: 10px;
            text-transform: uppercase;
        }
        
        .stage-column.done .stage-status {
            background: #d1fae5;
            color: #065f46;
        }
        
        .stage-column.active .stage-status {
            background: #dbeafe;
            color: #1e40af;
        }
        
        .stage-column.pending .stage-status {
            background: #f1f5f9;
            color: #64748b;
        }
        
        .stage-body {
            padding: 10px;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            font-size: 11px;
        }
        
        .stage-desc {
            color: #64748b;
            margin-bottom: 12px;
            font-style: italic;
            flex-shrink: 0;
            font-size: 10px;
        }
        
        .stage-criteria {
            flex-grow: 1;
        }
        
        .criterion {
            margin-bottom: 6px;
            color: #475569;
            display: flex;
            align-items: flex-start;
            line-height: 1.3;
        }
        
        .check-mark {
            margin-right: 6px;
            flex-shrink: 0;
            font-family: monospace;
            font-size: 11px;
            width: 20px;
        }
        
        .criterion-text {
            flex-grow: 1;
        }
        
        .footer {
            margin-top: 20px;
            padding-top: 15px;
            border-top: 1px solid #e2e8f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 12px;
            color: #64748b;
        }
        
        .folder {
            font-family: 'SF Mono', 'Courier New', monospace;
            background: #f1f5f9;
            padding: 4px 8px;
            border-radius: 4px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            max-width: 70%;
        }
        
        .refresh-note code {
            background: #f1f5f9;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'SF Mono', 'Courier New', monospace;
            font-size: 11px;
        }
        
        /* Responsive design */
        @media (max-width: 1200px) {
            .stages-row {
                grid-template-columns: repeat(3, 1fr);
                gap: 10px;
            }
        }
        
        @media (max-width: 768px) {
            body {
                padding: 15px;
            }
            
            .stages-row {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .mermaid-container {
                padding: 15px;
            }
            
            .mermaid {
                min-width: 700px;
            }
            
            .stage-column {
                min-height: 220px;
            }
        }
        
        @media (max-width: 480px) {
            .stages-row {
                grid-template-columns: 1fr;
            }
            
            .stage-column {
                min-height: auto;
            }
            
            .mermaid-container {
                padding: 10px;
                margin: 15px 0;
            }
            
            .mermaid {
                min-width: 500px;
            }
            
            .footer {
                flex-direction: column;
                gap: 10px;
                text-align: center;
            }
            
            .folder {
                max-width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Home Budget (Leska)</h1>
            <div class="goal">кнопка → +50€ → деплой</div>
        </header>
        
        <div class="mermaid-container">
            <div class="mermaid">
flowchart LR
    S1["✅ Концепт"]
    S1 --> S2
    S2["▶️ Техрешения"]:::active
    S2 --> S3
    S3["⏸️ Прототип"]
    S3 --> S4
    S4["⏸️ Мобильная"]
    S4 --> S5
    S5["⏸️ Подготовка"]
    S5 --> S6
    S6["⏸️ Деплой"]

    classDef active fill:#e3f2fd,stroke:#1976d2,stroke-width:3px,color:#0d47a1

            </div>
        </div>
        
        <div class="stages-row">
<div class='stage-column done' id='stage-1'>
    <div class='stage-header'>
        <div class='stage-number'>✅ Stage 1</div>
        <div class='stage-name'>Концепт</div>
        <div class='stage-status'>done</div>
    </div>
    <div class='stage-body'>
        <div class='stage-desc'>Формализация идеи и определение минимального scope</div>
        <div class='stage-criteria'><div class='criterion '>[ ] 1.1. Цель Z1 определена</div><div class='criterion '>[ ] 1.2. Макро-этапы выделены</div></div>
    </div>
</div><div class='stage-column active' id='stage-2'>
    <div class='stage-header'>
        <div class='stage-number'>▶️ Stage 2</div>
        <div class='stage-name'>Техрешения</div>
        <div class='stage-status'>active</div>
    </div>
    <div class='stage-body'>
        <div class='stage-desc'>Выбор технологий и архитектурных решений</div>
        <div class='stage-criteria'><div class='criterion '>[ ] 2.1. Стек выбран</div><div class='criterion '>[ ] 2.2. Решение по хранению принято</div><div class='criterion '>[ ] 2.3. index.html создан</div></div>
    </div>
</div><div class='stage-column pending' id='stage-3'>
    <div class='stage-header'>
        <div class='stage-number'>⏸️ Stage 3</div>
        <div class='stage-name'>Прототип</div>
        <div class='stage-status'>pending</div>
    </div>
    <div class='stage-body'>
        <div class='stage-desc'>Создание работающей версии на локальной машине</div>
        <div class='stage-criteria'><div class='criterion '>[ ] 3.1. Кнопка работает</div><div class='criterion '>[ ] 3.2. Счётчик увеличивается</div><div class='criterion '>[ ] 3.3. Код чистый</div></div>
    </div>
</div><div class='stage-column pending' id='stage-4'>
    <div class='stage-header'>
        <div class='stage-number'>⏸️ Stage 4</div>
        <div class='stage-name'>Мобильная</div>
        <div class='stage-status'>pending</div>
    </div>
    <div class='stage-body'>
        <div class='stage-desc'>Адаптация под мобильные устройства</div>
        <div class='stage-criteria'><div class='criterion '>[ ] 4.1. Responsive дизайн</div><div class='criterion '>[ ] 4.2. Touch-friendly кнопки</div><div class='criterion '>[ ] 4.3. Тестировано на телефоне</div></div>
    </div>
</div><div class='stage-column pending' id='stage-5'>
    <div class='stage-header'>
        <div class='stage-number'>⏸️ Stage 5</div>
        <div class='stage-name'>Подготовка</div>
        <div class='stage-status'>pending</div>
    </div>
    <div class='stage-body'>
        <div class='stage-desc'>Подготовка к публикации</div>
        <div class='stage-criteria'><div class='criterion '>[ ] 5.1. Файлы собраны</div><div class='criterion '>[ ] 5.2. README обновлён</div><div class='criterion '>[ ] 5.3. Нет hardcoded путей</div></div>
    </div>
</div><div class='stage-column pending' id='stage-6'>
    <div class='stage-header'>
        <div class='stage-number'>⏸️ Stage 6</div>
        <div class='stage-name'>Деплой</div>
        <div class='stage-status'>pending</div>
    </div>
    <div class='stage-body'>
        <div class='stage-desc'>Публикация и доступность</div>
        <div class='stage-criteria'><div class='criterion '>[ ] 6.1. GitHub Pages настроен</div><div class='criterion '>[ ] 6.2. URL работает</div><div class='criterion '>[ ] 6.3. Доступно с телефона</div></div>
    </div>
</div>
        </div>
        
        <div class="footer">
            <div class="folder">C:\Users\user\Documents\GitHub\home-budget-leska</div>
            <div class="refresh-note">
                Update: <code>.\generate-map-interactive.ps1</code>
            </div>
        </div>
    </div>
</body>
</html>